(()=>{var e={170:(e,t,r)=>{"use strict";var n=r(6440);function s(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return t[e]})}function o(e,t){this._pairs=[],e&&n(e,this,t)}var i=o.prototype;i.append=function(e,t){this._pairs.push([e,t])},i.toString=function(e){var t=e?function(t){return e.call(this,t,s)}:s;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")},e.exports=o},243:e=>{"use strict";e.exports=FormData},786:(e,t,r)=>{e.exports=r(1894)},1894:e=>{"use strict";e.exports="object"==typeof self?self.FormData:window.FormData},2002:(e,t,r)=>{"use strict";var n=r(170);e.exports="undefined"!=typeof URLSearchParams?URLSearchParams:n},2012:(e,t,r)=>{"use strict";var n=r(9516),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,i={};return e?(n.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=n.trim(e.slice(0,o)).toLowerCase(),r=n.trim(e.slice(o+1)),t){if(i[t]&&s.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}}),i):i}},2505:(e,t,r)=>{e.exports=r(8015)},2881:(e,t,r)=>{"use strict";var n=r(9516),s=r(7412);e.exports=function(e,t,r,o){var i=this||s;return n.forEach(o,function(n){e=n.call(i,e,t,r)}),e}},3191:(e,t,r)=>{"use strict";var n=r(8563);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;this.promise.then(function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}}),this.promise.then=function(e){var t,n=new Promise(function(e){r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,s,o){r.reason||(r.reason=new n(e,s,o),t(r.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},s.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},s.source=function(){var e;return{token:new s(function(t){e=t}),cancel:e}},e.exports=s},3471:(e,t,r)=>{"use strict";var n=r(9516);function s(){this.handlers=[]}s.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.clear=function(){this.handlers&&(this.handlers=[])},s.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=s},3864:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3948:(e,t,r)=>{"use strict";var n=r(9516);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,s,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(s)&&a.push("path="+s),n.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4202:(e,t,r)=>{"use strict";var n=r(9516);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function s(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=s(window.location.href),function(t){var r=n.isString(t)?s(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4298:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e){function t(e,r,s,o){var i=e[o++];if("__proto__"===i)return!0;var a=Number.isFinite(+i),c=o>=e.length;return i=!i&&n.isArray(s)?s.length:i,c?(n.hasOwnProperty(s,i)?s[i]=[s[i],r]:s[i]=r,!a):(s[i]&&n.isObject(s[i])||(s[i]=[]),t(e,r,s[i],o)&&n.isArray(s[i])&&(s[i]=function(e){var t,r,n={},s=Object.keys(e),o=s.length;for(t=0;t<o;t++)n[r=s[t]]=e[r];return n}(s[i])),!a)}if(n.isFormData(e)&&n.isFunction(e.entries)){var r={};return n.forEachEntry(e,function(e,s){t(function(e){return n.matchAll(/\w+|\[(\w*)]/g,e).map(function(e){return"[]"===e[0]?"":e[1]||e[0]})}(e),s,r,0)}),r}return null}},4490:(e,t,r)=>{"use strict";var n=r(9516),s=r(2881),o=r(3864),i=r(7412),a=r(8563),c=r(7018);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=s.call(e,e.data,e.headers,null,e.transformRequest),c(e.headers,"Accept"),c(e.headers,"Content-Type"),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return u(e),t.data=s.call(e,t.data,t.headers,t.status,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=s.call(e,t.response.data,t.response.headers,t.response.status,e.transformResponse))),Promise.reject(t)})}},4680:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}},4841:(e,t,r)=>{"use strict";var n=r(9641).version,s=r(5845),o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var i={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new s(o(n," has been removed"+(t?" in "+t:"")),s.ERR_DEPRECATED);return t&&!i[n]&&(i[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new s("options must be an object",s.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var c=e[i],u=void 0===c||a(c,i,e);if(!0!==u)throw new s("option "+i+" must be "+u,s.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new s("Unknown option "+i,s.ERR_BAD_OPTION)}},validators:o}},4896:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},5019:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},5155:(e,t,r)=>{"use strict";var n=r(9516),s=r(9106),o=r(3471),i=r(4490),a=r(5343),c=r(9615),u=r(4841),l=u.validators;function m(e){this.defaults=e,this.interceptors={request:new o,response:new o}}m.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var s=t.paramsSerializer;null!=s&&(n.isFunction(s)?t.paramsSerializer={serialize:s}:u.assertOptions(s,{encode:l.function,serialize:l.function},!0));var o=[],c=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});var m,f=[];if(this.interceptors.response.forEach(function(e){f.push(e.fulfilled,e.rejected)}),!c){var g=[i,void 0];for(Array.prototype.unshift.apply(g,o),g=g.concat(f),m=Promise.resolve(t);g.length;)m=m.then(g.shift(),g.shift());return m}for(var d=t;o.length;){var p=o.shift(),h=o.shift();try{d=p(d)}catch(e){h(e);break}}try{m=i(d)}catch(e){return Promise.reject(e)}for(;f.length;)m=m.then(f.shift(),f.shift());return m},m.prototype.getUri=function(e){e=a(this.defaults,e);var t=c(e.baseURL,e.url,e.allowAbsoluteUrls);return s(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],function(e){m.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}}),n.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,s){return this.request(a(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}m.prototype[e]=t(),m.prototype[e+"Form"]=t(!0)}),e.exports=m},5343:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e,t){t=t||{};var r={};function s(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isEmptyObject(t)?n.merge({},e):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:s(void 0,e[r]):s(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return s(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:s(void 0,e[r]):s(void 0,t[r])}function c(r){return r in t?s(e[r],t[r]):r in e?s(void 0,e[r]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=u[e]||o,s=t(e);n.isUndefined(s)&&t!==c||(r[e]=s)}),r}},5592:(e,t,r)=>{"use strict";var n=r(9516),s=r(7522),o=r(3948),i=r(9106),a=r(9615),c=r(2012),u=r(4202),l=r(4896),m=r(5845),f=r(8563),g=r(5656),d=r(5721);e.exports=function(e){return new Promise(function(t,r){var p,h=e.data,A=e.headers,E=e.responseType,y=e.withXSRFToken;function b(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(h)&&n.isStandardBrowserEnv()&&delete A["Content-Type"];var x=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";A.Authorization="Basic "+btoa(w+":"+v)}var _=a(e.baseURL,e.url,e.allowAbsoluteUrls);function T(){if(x){var n="getAllResponseHeaders"in x?c(x.getAllResponseHeaders()):null,o={data:E&&"text"!==E&&"json"!==E?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:n,config:e,request:x};s(function(e){t(e),b()},function(e){r(e),b()},o),x=null}}if(x.open(e.method.toUpperCase(),i(_,e.params,e.paramsSerializer),!0),x.timeout=e.timeout,"onloadend"in x?x.onloadend=T:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(T)},x.onabort=function(){x&&(r(new m("Request aborted",m.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new m("Network Error",m.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new m(t,n.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,e,x)),x=null},n.isStandardBrowserEnv()&&(y&&n.isFunction(y)&&(y=y(e)),y||!1!==y&&u(_))){var O=e.xsrfHeaderName&&e.xsrfCookieName&&o.read(e.xsrfCookieName);O&&(A[e.xsrfHeaderName]=O)}"setRequestHeader"in x&&n.forEach(A,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete A[t]:x.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(x.withCredentials=!!e.withCredentials),E&&"json"!==E&&(x.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&x.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&x.upload&&x.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(t){x&&(r(!t||t.type?new f(null,e,x):t),x.abort(),x=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||!1===h||0===h||""===h||(h=null);var R=g(_);R&&-1===d.protocols.indexOf(R)?r(new m("Unsupported protocol "+R+":",m.ERR_BAD_REQUEST,e)):x.send(h)})}},5656:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},5721:(e,t,r)=>{"use strict";e.exports=r(9490)},5845:(e,t,r)=>{"use strict";var n=r(9516);function s(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}n.inherits(s,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=s.prototype,i={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(e){i[e]={value:e}}),Object.defineProperties(s,i),Object.defineProperty(o,"isAxiosError",{value:!0}),s.from=function(e,t,r,i,a,c){var u=Object.create(o);return n.toFlatObject(e,u,function(e){return e!==Error.prototype}),s.call(u,e.message,t,r,i,a),u.cause=e,u.name=e.name,c&&Object.assign(u,c),u},e.exports=s},6069:(e,t,r)=>{"use strict";var n=r(9516),s=r(6440),o=r(5721);e.exports=function(e,t){return s(e,new o.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,s){return o.isNode&&n.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}},6440:(e,t,r)=>{"use strict";var n=r(9516),s=r(5845),o=r(786);function i(e){return n.isPlainObject(e)||n.isArray(e)}function a(e){return n.endsWith(e,"[]")?e.slice(0,-2):e}function c(e,t,r){return e?e.concat(t).map(function(e,t){return e=a(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}var u=n.toFlatObject(n,{},null,function(e){return/^is[A-Z]/.test(e)});e.exports=function(e,t,r){if(!n.isObject(e))throw new TypeError("target must be an object");t=t||new(o||FormData);var l,m=(r=n.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!n.isUndefined(t[e])})).metaTokens,f=r.visitor||A,g=r.dots,d=r.indexes,p=(r.Blob||"undefined"!=typeof Blob&&Blob)&&((l=t)&&n.isFunction(l.append)&&"FormData"===l[Symbol.toStringTag]&&l[Symbol.iterator]);if(!n.isFunction(f))throw new TypeError("visitor must be a function");function h(e){if(null===e)return"";if(n.isDate(e))return e.toISOString();if(!p&&n.isBlob(e))throw new s("Blob is not supported. Use a Buffer instead.");return n.isArrayBuffer(e)||n.isTypedArray(e)?p&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function A(e,r,s){var o=e;if(e&&!s&&"object"==typeof e)if(n.endsWith(r,"{}"))r=m?r:r.slice(0,-2),e=JSON.stringify(e);else if(n.isArray(e)&&function(e){return n.isArray(e)&&!e.some(i)}(e)||n.isFileList(e)||n.endsWith(r,"[]")&&(o=n.toArray(e)))return r=a(r),o.forEach(function(e,s){!n.isUndefined(e)&&null!==e&&t.append(!0===d?c([r],s,g):null===d?r:r+"[]",h(e))}),!1;return!!i(e)||(t.append(c(s,r,g),h(e)),!1)}var E=[],y=Object.assign(u,{defaultVisitor:A,convertValue:h,isVisitable:i});if(!n.isObject(e))throw new TypeError("data must be an object");return function e(r,s){if(!n.isUndefined(r)){if(-1!==E.indexOf(r))throw Error("Circular reference detected in "+s.join("."));E.push(r),n.forEach(r,function(r,o){!0===(!(n.isUndefined(r)||null===r)&&f.call(t,r,n.isString(o)?o.trim():o,s,y))&&e(r,s?s.concat(o):[o])}),E.pop()}}(e),t}},6815:function(e,t){var r,n,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],r=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},i=e=>1==e?"argument":"arguments",a=(e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((s,i)=>{if(t.fallbackToNoCallback)try{r[e](...n,o({resolve:s,reject:i},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(r[e](...n),s()):r[e](...n,o({resolve:s,reject:i},t))})},c=(e,t,r)=>new Proxy(t,{apply:(t,n,s)=>r.call(n,e,...s)});let u=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},r={})=>{let n=Object.create(null),s={has:(t,r)=>r in e||r in n,get(s,o,i){if(o in n)return n[o];if(!(o in e))return;let m=e[o];if("function"==typeof m)if("function"==typeof t[o])m=c(e,e[o],t[o]);else if(u(r,o)){let t=a(o,r[o]);m=c(e,e[o],t)}else m=m.bind(e);else if("object"==typeof m&&null!==m&&(u(t,o)||u(r,o)))m=l(m,t[o],r[o]);else{if(!u(r,"*"))return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),m;m=l(m,t[o],r["*"])}return n[o]=m,m},set:(t,r,s,o)=>(r in n?n[r]=s:e[r]=s,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},o=Object.create(e);return new Proxy(o,s)},m=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),f=new n(e=>"function"!=typeof e?e:function(t){const r=l(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)}),g=new n(e=>"function"!=typeof e?e:function(t,r,n){let o,i,a=!1,c=new Promise(e=>{o=function(t){a=!0,e(t)}});try{i=e(t,r,o)}catch(e){i=Promise.reject(e)}const u=!0!==i&&s(i);if(!0!==i&&!u&&!a)return!1;const l=e=>{e.then(e=>{n(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return l(u?i:c),!0}),d=({reject:r,resolve:n},s)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(new Error(e.runtime.lastError.message)):s&&s.__mozWebExtensionPolyfillReject__?r(new Error(s.message)):n(s)},p=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,t)=>{const s=d.bind(null,{resolve:e,reject:t});n.push(s),r.sendMessage(...n)})},h={devtools:{network:{onRequestFinished:m(f)}},runtime:{onMessage:m(g),onMessageExternal:m(g),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},A={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":A},services:{"*":A},websites:{"*":A}},l(e,h,r)};e.exports=r(chrome)}else e.exports=globalThis.browser},void 0===(s="function"==typeof r?r.apply(t,n):r)||(e.exports=s)},7018:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},7412:(e,t,r)=>{"use strict";var n=r(9516),s=r(7018),o=r(5845),i=r(4896),a=r(6440),c=r(6069),u=r(5721),l=r(4298),m={"Content-Type":"application/x-www-form-urlencoded"};function f(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var g,d={transitional:i,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(g=r(5592)),g),transformRequest:[function(e,t){s(t,"Accept"),s(t,"Content-Type");var r,o=t&&t["Content-Type"]||"",i=o.indexOf("application/json")>-1,u=n.isObject(e);if(u&&n.isHTMLForm(e)&&(e=new FormData(e)),n.isFormData(e))return i?JSON.stringify(l(e)):e;if(n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e))return e;if(n.isArrayBufferView(e))return e.buffer;if(n.isURLSearchParams(e))return f(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(u){if(-1!==o.indexOf("application/x-www-form-urlencoded"))return c(e,this.formSerializer).toString();if((r=n.isFileList(e))||o.indexOf("multipart/form-data")>-1){var m=this.env&&this.env.FormData;return a(r?{"files[]":e}:e,m&&new m,this.formSerializer)}}return u||i?(f(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,r=t&&t.forcedJSONParsing,s="json"===this.responseType;if(e&&n.isString(e)&&(r&&!this.responseType||s)){var i=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:u.classes.FormData,Blob:u.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){d.headers[e]={}}),n.forEach(["post","put","patch"],function(e){d.headers[e]=n.merge(m)}),e.exports=d},7522:(e,t,r)=>{"use strict";var n=r(5845);e.exports=function(e,t,r){var s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},7980:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8015:(e,t,r)=>{"use strict";var n=r(9516),s=r(9012),o=r(5155),i=r(5343),a=r(7412),c=r(4298);var u=function e(t){var r=new o(t),a=s(o.prototype.request,r);return n.extend(a,o.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(a);u.Axios=o,u.CanceledError=r(8563),u.CancelToken=r(3191),u.isCancel=r(3864),u.VERSION=r(9641).version,u.toFormData=r(6440),u.AxiosError=r(5845),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=r(7980),u.isAxiosError=r(5019),u.formToJSON=function(e){return c(n.isHTMLForm(e)?new FormData(e):e)},e.exports=u,e.exports.default=u},8563:(e,t,r)=>{"use strict";var n=r(5845);function s(e,t,r){n.call(this,null==e?"canceled":e,n.ERR_CANCELED,t,r),this.name="CanceledError"}r(9516).inherits(s,n,{__CANCEL__:!0}),e.exports=s},9012:e=>{"use strict";e.exports=function(e,t){return function(){return e.apply(t,arguments)}}},9106:(e,t,r)=>{"use strict";var n=r(9516),s=r(170);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i));var a,c=r&&r.encode||o,u=r&&r.serialize;return(a=u?u(t,r):n.isURLSearchParams(t)?t.toString():new s(t,r).toString(c))&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},9137:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9490:(e,t,r)=>{"use strict";e.exports={isBrowser:!0,classes:{URLSearchParams:r(2002),FormData:r(243),Blob},protocols:["http","https","file","blob","url","data"]}},9516:(e,t,r)=>{"use strict";var n,s=r(9012),o=Object.prototype.toString,i=(n=Object.create(null),function(e){var t=o.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function c(e){return Array.isArray(e)}function u(e){return void 0===e}var l=a("ArrayBuffer");function m(e){return"number"==typeof e}function f(e){return null!==e&&"object"==typeof e}function g(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=a("Date"),p=a("File"),h=a("Blob"),A=a("FileList");function E(e){return"[object Function]"===o.call(e)}var y=a("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}var x,w=(x="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return x&&e instanceof x});var v,_=a("HTMLFormElement"),T=(v=Object.prototype.hasOwnProperty,function(e,t){return v.call(e,t)});e.exports={isArray:c,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||E(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:m,isObject:f,isPlainObject:g,isEmptyObject:function(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype},isUndefined:u,isDate:d,isFile:p,isBlob:h,isFunction:E,isStream:function(e){return f(e)&&E(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){var e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:b,merge:function e(){var t={};function r(r,n){g(t[n])&&g(r)?t[n]=e(t[n],r):g(r)?t[n]=e({},r):c(r)?t[n]=r.slice():t[n]=r}for(var n=0,s=arguments.length;n<s;n++)b(arguments[n],r);return t},extend:function(e,t,r){return b(t,function(t,n){e[n]=r&&"function"==typeof t?s(t,r):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r,n){var s,o,i,a={};if(t=t||{},null==e)return t;do{for(o=(s=Object.getOwnPropertyNames(e)).length;o-- >0;)i=s[o],n&&!n(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==r&&Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;if(c(e))return e;var t=e.length;if(!m(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:A,forEachEntry:function(e,t){for(var r,n=(e&&e[Symbol.iterator]).call(e);(r=n.next())&&!r.done;){var s=r.value;t.call(e,s[0],s[1])}},matchAll:function(e,t){for(var r,n=[];null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:_,hasOwnProperty:T}},9615:(e,t,r)=>{"use strict";var n=r(9137),s=r(4680);e.exports=function(e,t,r){var o=!n(t);return e&&(o||!1===r)?s(e,t):t}},9641:e=>{e.exports={version:"0.30.2"}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(6815),t=r.n(e);let n=function(e){return e.ADD_TO_LIBRARY="ADD_TO_LIBRARY",e.ADD_PDF="addPdf",e.CLOSE_APP="closeApp",e.GET_ER_TOKEN="GET_ER_TOKEN",e.GET_IP="getIP",e.GET_PDF="GET_PDF",e.GET_PDF_URL="getPdfUrl",e.GET_PDF_URL_FROM_MAIN_DOCUMENT="GET_PDF_URL_FROM_MAIN_DOCUMENT",e.GET_REFERENCES="GET_REFERENCES",e.GET_REFERENCES_FROM_CONTENT="GET_REFERENCES_FROM_CONTENT",e.GET_USER_INFO="getUserInfo",e.GET_WEB_PAGE_METADATA="GET_WEB_PAGE_METADATA",e.IMPLICIT_LOGIN="implicitLogin",e.LOG_EVENT="LOG_EVENT",e.LOGIN="login",e.LOGOUT="logout",e.NO_LOGIN_WINDOW="NO_LOGIN_WINDOW",e.OPEN_APP="openApp",e.RECENTLY_USED_FOLDERS_UPDATED="RECENTLY_USED_FOLDERS_UPDATED",e.REFERENCES="REFERENCES",e.RUN_CONTENT="RUN_CONTENT",e.GET_SETTINGS="GET_SETTINGS",e.SET_SETTING="SET_SETTING",e.SETTINGS_UPDATED="SETTINGS_UPDATED",e.SET_RECENTLY_USED_FOLDERS="SET_RECENTLY_USED_FOLDERS",e.SET_BADGE_TEXT="SET_BADGE_TEXT",e.SET_LOGIN_TOKEN="SET_LOGIN_TOKEN",e.SUBSCRIBE_RECENTLY_USED_FOLDERS="SUBSCRIBE_RECENTLY_USED_FOLDERS",e.TOGGLE_APP="TOGGLE_APP",e.UPLOAD_PDF="UPLOAD_PDF",e.WEB_PAGE_METADATA="WEB_PAGE_METADATA",e.GET_SERVICE_VERSION="GET_SERVICE_VERSION",e.GET_FOLDERS="GET_FOLDERS",e.SAVE_TO_FOLDERS="SAVE_TO_FOLDERS",e.GET_DOCUMENT_FOR_ID="GET_DOCUMENT_FOR_ID",e.METADATA_EXTRACT="METADATA_EXTRACT",e.REFRESH_REFERENCES="REFRESH_REFERENCES",e}({});const s={get base_url(){return"https://brxt.mendeley.com"},get cookie_domain(){return".brxt.mendeley.com"},get mendeley_url(){return"https://www.mendeley.com"},get analytics_env(){return"prod"},get reader_url(){return"https://reader.elsevier.com"},get sciencedirect_url(){return"https://www.sciencedirect.com"},get client_version(){return"3.3.38"},get target_platform(){return"chrome"},get newrelic_insights_url(){return"https://insights-collector.newrelic.com/v1/accounts/67651/events"},get newrelic_insights_apikey(){return"JLjP78Yah4bfQOjC8c2s2iHW8CCfCKR_"},get platform_client_id(){return 6812},get events_api_key(){return"M6rdZmDy3kyhevTc"}};function o(){return"_"+Math.random().toString(36).substr(2,19)}async function i(e,t){const r={...e};if(t)try{r.payload=await t,r.status="success"}catch(e){r.payload=e&&e.message,r.status="fail"}return r}function a(e){let t,r,n=0;function s({refreshIfOlderThan:s=0,allowStale:o=!1}={}){return Date.now()-n<=s?t:(r||(r=e().then(e=>(r=void 0,t=e,n=Date.now(),e)).catch(e=>{if(r=void 0,!o)throw e;return t})),o?t:r)}return{possiblyStale:({refreshIfOlderThan:e=0}={})=>s({refreshIfOlderThan:e,allowStale:!0}),guaranteeFresh:({refreshIfOlderThan:e=0}={})=>s({refreshIfOlderThan:e,allowStale:!1}),clearCache(){t=void 0,n=0,r=void 0}}}var c=r(2505),u=r.n(c),l=r(7522),m=r.n(l),f=r(9106),g=r.n(f),d=r(9615),p=r.n(d),h=r(9516);async function A(e){const t=function(e){const t=new Headers(e.headers);if(e.auth){const r=e.auth.username||"",n=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";t.set("Authorization",`Basic ${btoa(r+":"+n)}`)}const r=e.method.toUpperCase(),n={headers:t,method:r};"GET"!==r&&"HEAD"!==r&&(n.body=e.data,(0,h.isFormData)(n.body)&&(0,h.isStandardBrowserEnv)()&&t.delete("Content-Type"));e.mode&&(n.mode=e.mode);e.cache&&(n.cache=e.cache);e.integrity&&(n.integrity=e.integrity);e.redirect&&(n.redirect=e.redirect);e.referrer&&(n.referrer=e.referrer);(0,h.isUndefined)(e.withCredentials)||(n.credentials=e.withCredentials?"include":"omit");const s=p()(e.baseURL,e.url),o=g()(s,e.params,e.paramsSerializer);return new Request(o,n)}(e),r=[E(t,e)];e.timeout&&e.timeout>0&&r.push(new Promise(r=>{setTimeout(()=>{const n=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of "+e.timeout+"ms exceeded";r(y(n,e,"ECONNABORTED",t))},e.timeout)}));const n=await Promise.race(r);return new Promise((t,r)=>{n instanceof Error?r(n):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,r,n):m()(t,r,n)})}async function E(e,t){let r;try{r=await fetch(e)}catch(r){return y("Network Error",t,"ERR_NETWORK",e)}const n={ok:r.ok,status:r.status,statusText:r.statusText,headers:new Headers(r.headers),config:t,request:e};if(r.status>=200&&204!==r.status)switch(t.responseType){case"arraybuffer":n.data=await r.arrayBuffer();break;case"blob":n.data=await r.blob();break;case"json":n.data=await r.json();break;case"formData":n.data=await r.formData();break;default:n.data=await r.text()}return n}function y(e,t,r,n,s){return u().AxiosError&&"function"==typeof u().AxiosError?new(u().AxiosError)(e,u().AxiosError[r],t,n,s):function(e,t,r,n,s){e.config=t,r&&(e.code=r);return e.request=n,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}(new Error(e),t,r,n,s)}const{base_url:b,cookie_domain:x,mendeley_url:w,analytics_env:v,reader_url:_,sciencedirect_url:T,newrelic_insights_url:O,newrelic_insights_apikey:R,target_platform:S,platform_client_id:N,events_api_key:C}=s,P={metadata_url:`${b}/metadata`,login_url:`${b}/login`,logout_url:`${b}/logout`,token_info_url:`${b}/token-info`,document_url:`${b}/library/documents`,base_url:b,cookie_domain:x,mendeley_url:w,library_url:`${w}/library`,reference_manager_url:`${w}/reference-manager`,profile_url:`${w}/settings/account/`,get client_version(){return s.client_version},build_info_url:`${b}/build-info`,user_info_url:`${b}/user-info`,presigned_url:`${b}/upload/token`,file_url:`${b}/library/file`,metadata_extract_url:`${b}/metadata/extract`,folders_url:`${b}/library/folders`,events_url:`${b}/events`,reader_url:_,sciencedirect_url:T,platform_client_id:N,events_api_key:C,identity_url:`${b}/identity`,entitlements_url:`${b}/entitlements/batch`,analytics:{environment:`${v}`,get productAppVersion(){return`Web Importer - ${s.target_platform} - ${s.client_version}`},language:"en",businessUnit:"els:rp:st",noTracking:"false",productName:"md:brxt"},newrelic_insights_url:O,newrelic_insights_apikey:R,target_platform:S,cookie_name:"mendeley-br-xt",browser_id:"ch"};let D;let k=!1;const L=()=>(k||(k=t().extension?.inIncognitoContext?"INCOGNITO_":""),k),U=async(e,r=void 0)=>{const n=L()+e,s=await t().storage.local.get(n);return s?.[n]||r},F=async(e,r)=>{await t().storage.local.set({[L()+e]:r})},j=async e=>{await t().storage.local.remove(L()+e)},I=async(e,t)=>{await M(e,t,!1)},B=async(e,t)=>{await M(e,t,!0)};let G=!1;async function M(e,t,r){try{for(;G;)await new Promise(e=>{setTimeout(e,16)});G=!0;const n=(await U(e,[])).filter(e=>e!==t);await F(e,r?n:[...n,t])}finally{G=!1}}function $(e){this.message=e}$.prototype=new Error,$.prototype.name="InvalidCharacterError";var q="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new $("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,s=0,o=0,i="";n=t.charAt(o++);~n&&(r=s%4?64*r+n:n,s++%4)?i+=String.fromCharCode(255&r>>(-2*s&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return i};function W(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(q(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(e){return q(t)}}function V(e){this.message=e}V.prototype=new Error,V.prototype.name="InvalidTokenError";const H=function(e,t){if("string"!=typeof e)throw new V("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(W(e.split(".")[r]))}catch(e){throw new V("Invalid token specified: "+e.message)}};function z(e){if(!e)return!1;const t=H(e);return 1e3*t?.exp>Date.now()}const J="AUTH_TOKEN";let K,X,Y;async function Z(){if(!K){const e=await async function(){const e=await U(J,K);return z(e)?e:void 0}();e&&(K=e)}return void 0!==K?K:(Y||(le(!1),Y=new Promise(e=>{X=e})),Y)}const Q="LOGIN_WINDOW_IDS",ee=async e=>I(Q,e),te=e=>!(Boolean(navigator.vendor?.match(/apple/i))&&!navigator.userAgent.match(/crios/i)&&!navigator.userAgent.match(/fxios/i)&&!navigator.userAgent.match(/Opera|OPT\//))||Boolean(e?.tabs?.[0]?.url),re=async(e,t)=>{if(e){(await(async()=>U(Q,[]))()).forEach(ne),(async()=>{j(Q)})()}t?.id&&(ne(t.id),(async e=>{B(Q,e)})(t.id),t=void 0)};async function ne(e){try{await t().windows.remove(e)}catch(e){}}const{login_url:se,logout_url:oe}=P,ie=/mendeley\.com(.*)\/(successful|aborted)-login(.*)/,ae=/\?jwt=(.*)/;let ce;async function ue(e,r){const n=r?750:1,s=r?500:1;ce=await t().windows.create({url:e,height:n,width:s,state:"normal",type:"popup"}),await ee(ce.id)}async function le(e){await ue(`${se}?prompt=${e}&session_id=${void 0===D&&(D=Math.random().toString(36).slice(2,10)),D}`,e),te()?t().tabs.onUpdated.hasListener(me)||t().tabs.onUpdated.addListener(me):(t().runtime.sendMessage({type:n.NO_LOGIN_WINDOW}),re(!1,ce),setTimeout(()=>le(e),2e3))}const me=(e,r,s)=>{const{url:o,status:i}=s;o&&"complete"===i&&o.match(ie)&&async function({url:e}){const r=e?.match(ae)?.[1]||"";r&&(await F(J,r),t().tabs?.onUpdated.removeListener(me));s=r,K=s,X?.(K),Y=void 0,await Ee.guaranteeFresh(),async function(e,r){const n=(await t().tabs.query({})).filter(he),s={status:"success",payload:await Promise.resolve(r)},o=await Promise.allSettled(n.map(t=>pe(e,t,s)));o.forEach((t,r)=>{if("rejected"===t.status){const s=n[r],o={status:"fail",payload:t.reason&&t.reason?.message};pe(e,s,o),console.error("Error sending message to content script:",t.reason)}})}({type:n.SET_LOGIN_TOKEN}),re(Boolean(r),ce);var s}({url:o})};t().tabs?.onUpdated.addListener(me);const fe="WorkerLocation"===location?.constructor?.name||"function"==typeof t()?.runtime?.getBackgroundPage&&self===window;function ge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const de=new class{constructor(){ge(this,"loginStatus",void 0),ge(this,"inflightCache",new Map)}async request(e,t={retries:1}){const r={...e.headers};if(e.url.startsWith(P.base_url)){const e=await Z();e&&(r["md-brxt-auth"]=e)}return this.makeRequest({...e,headers:r},t)}async handleUnauthorised(e,{retries:r}){if(e.response&&(401===e.response.status||403===e.response.status)){const s=!(!e.config||!e.config.url)&&e.config.url.includes("user-info"),a="refresh-token-invalid"in e.response.headers;if((r>0||s&&a)&&(this.loginStatus||(this.loginStatus=fe?le(!1):async function(e,r){if(!e.type)throw new Error("Bad message");let n;return r&&(e=await i(e,r)),e.id||(n=o(),e.id=n),t().runtime.sendMessage({...e})}({type:n.IMPLICIT_LOGIN}),this.loginStatus?.finally(()=>{this.loginStatus=null})),await this.loginStatus,!s||!a)){if(!e.config)throw new Error("Request config is undefined during retry.");return this.request(e.config,{retries:r-1})}}throw e}async makeRequest(e,t){const r=JSON.stringify(e);if(this.inflightCache.has(r))return this.inflightCache.get(r);try{const t=u().request({...e,adapter:A});this.inflightCache.set(r,t);const n=await t.finally(()=>{this.inflightCache.delete(r)});return"function"==typeof n.headers?.entries&&(n.headers=Object.fromEntries(n.headers.entries())),n}catch(e){return this.handleUnauthorised(e,t)}}},pe=async(e,r,n)=>{try{await t().tabs.sendMessage(r.id,{...e,...n})}catch(e){console.error(`Failed to send message to tab ${r.id}:`,e)}},he=e=>e.id&&e.url&&!e.url.startsWith("chrome://")&&!e.url.startsWith("about:")&&!e.url.includes("/successful-logout")&&!e.url.includes("/successful-login");const Ae=async(e,r,n)=>{const s=(await t().tabs.query({})).find(t=>t.id===e);if(!s||!he(s))return void console.warn(`Tab ${e} is not valid for messaging.`);const o=await i(r,n);try{await t().tabs.sendMessage(e,o)}catch(t){console.error("Error sending message to content script:",t,e)}},Ee=a(async()=>{try{return(await de.request({method:"GET",url:P.user_info_url},{retries:0})).data}catch{return}});function ye(e){return e=function(e){return e.replace(/https?:\/\/linkinghub.elsevier.com\/retrieve\/pii\/([-()0-9a-z]+)/i,"https://www.sciencedirect.com/science/article/pii/$1/pdf")}(e=function(e){return e.replace(/(onlinelibrary[.-]wiley[.-]com[^/]*\/doi\/)e?pdf\//,"$1pdfdirect/")}(e))}const be="$SCIENCEDIRECT_AUTH_TOKEN",xe=async e=>{e.includes(be)&&(e=e.replace(be,await we.guaranteeFresh({refreshIfOlderThan:ve})));const t=de.request({method:"GET",url:ye(e),responseType:"arraybuffer"}),r=await t,{data:n,headers:s}=r,o=s["content-type"];if(o?.includes("html")){const e=await async function(e){const t=e.request.responseURL,r=t&&ye(t);return r!==t&&xe(r)}(r);if(e)return e}if(!o?.includes("application/pdf"))throw new Error(`Expected PDF from ${e}, got ${o}`);return n};const we=a(async()=>{const e=await fetch("https://api.elsevier.com/authenticate?apiKey=ef889b6661009d39e2069092ba4e5afa");return(await e.json())["authenticate-response"].authtoken}),ve=36e5;const _e=new Set,Te=new URLSearchParams(location.search).get("pdf");Te&&document.getElementById("pdf-object").setAttribute("data",Te);(async()=>{const e=document.createElement("script");e.src="/content.js",document.head.appendChild(e);const[r]=await browser.tabs.query({active:!0,currentWindow:!0});window.addEventListener("load",()=>{(async e=>{if(e.id)if(e.url?.startsWith("file:"))t().notifications.create({type:"basic",iconUrl:"./assets/logo48.png",title:t().i18n.getMessage("cannotImportPdf"),message:t().i18n.getMessage("mendeleyWebImporterCannotAccessLocalFilesOnYourComputer")});else{if(Ae(e.id,{type:n.TOGGLE_APP}),"firefox"===s.target_platform){const r=e.url?.startsWith(t().runtime.getURL("/")),n=_e.has(e.id);if(!r&&n){if(!await xe(e.url))return;const r=t().runtime.getURL("/pdf-page.html")+"?pdf="+encodeURIComponent(e.url);return void await t().tabs.update(e.id,{url:r})}}Ae(e.id,{type:n.RUN_CONTENT})}})(r)})})()})()})();