!function(){const e={screen:!0,camera:!0,audio:!0,fullDesktop:!0},t=$("#fde-video-loader"),n=document.getElementById("camOnlyActionId");t&&t.animate({opacity:1},0);let c=()=>{let e=document.getElementById("vcc-stop-btn"),t=document.querySelector("#vidcor-ff-cam"),n=document.getElementById("vcc-cancel-btn");t&&"about:blank"==t.getAttribute("src")&&(t.src=chrome.runtime.getURL("template/iframe.html")),setTimeout(()=>{o("vcc_cam_only_capture_media",{}),e&&(e.style.display="inline-block"),n&&(n.style.display="inline-block")},100)};c();let o=(e,t={})=>{let n=document.querySelector("#vidcor-ff-cam");if(n){let c={msg:e,...t};n.contentWindow.postMessage(c,"*")}else Helper.error("Error in Sending Message to iframe",e)};window.addEventListener("message",(function(e){let t=Helper.parseJSON(e.data);if(t&&t.hasOwnProperty("msg")&&t.msg)switch(t.msg){case"fde_recording_start":n.style.display="block",d(),contentJs().advanceOptionVcc()}}),!1);let r=document.getElementById("fde-restart-camonly");r&&r.addEventListener("click",()=>{if(confirm("Do you want to restart recording? This will delete the current recording and create a new one.")){let n,o=document.querySelector("#vidcor-ff-cam");o&&(o.style.display="none"),t&&t.animate({opacity:1},0),contentJs().cancelRecordingMethod(),e.screen=!1,e.camera=!0,Main.enableCorrectOption(e),Helper.getCrossStatus().then(e=>{n=e.crossStatus}).catch(()=>{n={}}),setTimeout(()=>{c(),o&&(o.style.display="block"),contentJs().startRecordingMethod(),Main.communicateWithContentScript("start"),n.camraFrameType="3",Helper.setCrossStatus(n),i()},1e3),setTimeout(()=>{s()},1500)}});let a=document.getElementById("vcc-camOnly-cancel-btn");a&&a.addEventListener("click",()=>{confirm("Do you want to cancel this recording?")&&(contentJs().cancelRecordingMethod(),Helper.sendMsgToBgScript("vcc_click_cancel_recording",null,()=>{}),l())});let l=()=>{chrome.tabs.query({active:!0,windowType:"popup",currentWindow:!0},e=>{e&&e[0].url.indexOf("template/camOnly.html")>-1&&window.close()})},i=()=>{let e=document.getElementById("white-overly");(!e||e&&"none"==e.style.display)&&setTimeout(()=>{contentJs().startTimer(),t&&t.animate({opacity:0},800)},1e3)};i();let s=()=>{chrome.tabs.query({active:!0,windowType:"popup",currentWindow:!0},e=>{e&&e[0].url.indexOf("template/camOnly.html")>-1&&Helper.setKeyValue("activeWindow",JSON.stringify({windowId:e[0].windowId}))})};s();let d=()=>{document.onmouseover=()=>{n.style.display="block"},document.onmouseout=()=>{n.style.display="none"}}}();